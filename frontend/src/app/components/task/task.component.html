<div class="task-container">
  <h2>Lista de Tarefas</h2>

  <div *ngIf="successMessage" class="success-message">
    {{ successMessage }}
  </div>

  <div class="initial-buttons">
    <button *ngIf="!showTaskForm" (click)="toggleTaskForm()" class="add-task-btn">Adicionar Tarefa</button>
    <button *ngIf="!showTaskForm" (click)="loadTasks()" class="show-task-btn">Listar Tarefas</button>
  </div>
  
  <div *ngIf="showTaskForm" class="task-form">
    <div class="input-group">
      <label for="name">Nome</label>
      <input type="text" id="name" [(ngModel)]="newTask.nome" placeholder="Nome">
    </div>
    
    <div class="input-group">
      <label for="task-description">Descrição</label>
      <textarea id="task-description" [(ngModel)]="newTask.descricao" placeholder="Descrição"></textarea>
    </div>

    <div class="button-group">
      <button *ngIf="editingTaskId === null" class="save-btn" (click)="addTask()">Salvar</button>
      <button *ngIf="editingTaskId !== null" class="update-btn" (click)="updateTask()">Atualizar</button>
      <button class="cancel-btn" (click)="toggleTaskForm()">Cancelar</button>
    </div>
  </div>

  <div *ngIf="tasks.length > 0">
    <ul class="task-list">
      <li *ngFor="let task of tasks" class="task-item">
        <div class="task-content">
          <h3>{{ task.nome }}</h3>
          <p>{{ task.descricao }}</p>
        </div>
        <div class="task-actions">
          <button class="finish-btn">Finalizar</button>
          <button (click)="editTask(task)" class="edit-btn">Editar</button>
          <button class="delete-btn">Excluir</button>
        </div>
      </li>
    </ul>
  </div>
</div>